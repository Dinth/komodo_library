services:
  freshrss:
    image: freshrss/freshrss:1
    container_name: freshrss
    restart: unless-stopped
    environment: 
      TRUSTED_PROXIES: "traefik"
      TZ: "${TZ}"
      BASE_URL: "rss.${DOMAIN_NAME}"
      CRON_MIN: "*/10"
    volumes:
      - /opt/docker/freshrss/freshrss_data:/var/www/FreshRSS/data
      - /opt/docker/freshrss/freshrss_extensions:/var/www/FreshRSS/extensions
    networks:
      - freshrss
      - traefik
    logging:
      driver: json-file
      options:
        max-size: "10m"
        max-file: "3"
networks:
  freshrss:
    name: freshrss
    driver: bridge
  traefik:
    name: traefik
    external: true    